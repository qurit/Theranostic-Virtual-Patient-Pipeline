// Template for how config file (config.json) should look like, modify as needed
// If want specfic paramerters, copy this file to inputs/config.json and modify there
// Or use this file if want to do a test run without modifying anything
{ 
    "mode" : { // Mode can be "DEBUG" or "PRODUCTION"
        "mode" : "DEBUG" 
    },
    "ct_input": { // Input CT scan parameters
        "path1": "/home/jhubadmin/Theranostic-Virtual-Patient-Pipeline/inputs/CT"
    },
    "output_folder": {
        "title": "TDT_Output_DEBUG" // Output folder name
    },
    "subdir_names": { // Output directory names (one for each module)///
        "spect_preprocessing": "spect_preprocessing_outputs",
        "pbpk": "pbpk_outputs",
        "spect_simulation": "spect_simulation_outputs"
    },
    "spect_preprocessing": { // preprocessing parameters
        "name" : "spect_preprocessing", // File name prefix
        "total_segmentator_classes_path": "/home/jhubadmin/Theranostic-Virtual-Patient-Pipeline/tools/total_segmentator_classes.json",
        "device":"cpu", 
        "roi_subset":["kidney_right", "kidney_left", "liver"], // ROIs         
        "ml":true,                 // Single multilabel NIfTI instead of per-class files
        "xy_dim": 256 // x and y dimensions for resizing for SIMIND input, z will be scaled based on same ratio
    },
    "pbpk": { // PBPK parameters
        "name" : "pbpk", // File name prefix
        "model_type": "PSMA", // Pipeline only supports "PSMA" model currently
        "HotTotalAmount": 7.5,  // Total amount of hot tracer [nmol]
        "ColdTotalAmount": 90,  // Total amount of cold tracer [nmol]
        "LambdaPhys": 7.15e-05, // Physical decay constant [1/min]
        "FrameStartTimes": [240,1440,2880,5760],   // Start time of each frame [min] [240,1440,2880,5760]
        "FrameDurations": [10,10,10,10], // Duration of each frame [seconds]
        "VOIs": ["Tumor1","Tumor2","Kidney","Heart","SG","Bone","TumorRest","Spleen","Liver","Prostate","GI","Rest","Skin","Muscle","Brain","RedMarrow","Lungs","Adipose"]
    },
    "spect_simulation": { // Spect simulation parameters
        "name" : "spect_simulation", // File name prefix
        "SIMINDDirectory": "/home/jhubadmin/simind/simind",    // SIMIND: Path to SIMIND executable
        "ReconstructionAlgorithm": "OSEM",   // PyTomography: Reconstruction algorithm 
        "Collimator": "si-me",  // SIMIND: Collimator type - refer to SIMIND documentation
        "Isotope": "lu177",    // SIMIND: Isotope type - refer to SIMIND documentation
        "NumProjections": 64,   // SIMIND: Number of projections (96 is standard)
        "NumPhotons": 1e8,    // SIMIND: Number of photons
        "EnergyWindowWidth": 20, // SIMIND: Energy window width [%] around photopeak, e.g., 20 for Â±10%
        "DetectorDistance": -10, // SIMIND: Detector distance [cm]. If this number is negative, patient contouring is enabled.
        "OutputImgSize": 128,   // SIMIND: Output image dimensions
        "OutputPixelWidth": 0.5, // SIMIND: Output pixel size [cm]
        "OutputSliceWidth": 0.5, // SIMIND: Output slice width [cm]
        "Iterations": 4,    // PyTomography: Number of iterations used in reconstruction
        "Subsets": 8,   // PyTomography: Number of subsets used in reconstruction
        "NumCores": 30 // Number of CPU cores to use for parallel SIMIND simulations
    }
        
}
