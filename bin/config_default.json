// Made for the Validation Study 
// Peter Yazdi
// Jan 2026 ( for the AAMP abstract submission )

{ 
    "mode" : { // Mode can be "DEBUG" or "PRODUCTION"
        "mode" : "DEBUG" 
    },
    "output_folder": {
        "title": "TDT_Output_" // Output folder name, should say this title plus CT name
    },
    "subdir_names": { // Output directory names (one for each module)///
        "spect_preprocessing": "spect_preprocessing_outputs",
        "pbpk": "pbpk_outputs",
        "spect_simulation": "spect_simulation_outputs"
    },
    "spect_preprocessing": { // preprocessing parameters
        "name" : "spect_preprocessing", // File name prefix
        "roi_subset":["kidney", "liver" , "prostate", "spleen", "heart","salivary_glands"], // ROIs ,      
        "xy_dim": 256 // x and y dimensions for resizing for SIMIND input, z will be scaled based on same ratio
    },
    "pbpk": { // PBPK parameters
        "name" : "pbpk", // File name prefix
        "model_type": "PSMA", // Pipeline only supports "PSMA" model currently
        "HotTotalAmount": 7.5,  // Total amount of hot tracer [nmol]
        "ColdTotalAmount": 90,  // Total amount of cold tracer [nmol]
        "LambdaPhys": 7.15e-05, // Physical decay constant [1/min]
        "FrameStartTimes": [120, 1440, 2880, 4620, 9360],   // Start time of each frame [min] [240,1440,2880,5760]
        "FrameDurations": [10,10,10,10,10], // Duration of each frame [seconds]
        "VOIs": ["Tumor1","Tumor2","Kidney","Heart","SG","Bone","TumorRest","Spleen","Liver","Prostate","GI","Rest","Skin","Muscle","Brain","RedMarrow","Lungs","Adipose"],
        "Randomization_Kidney_SG_Para": "True" // if True will randomize Kidney and SG parameters (recep density and lamda) NOTE: require have SG and Kidney in roi_subset
    },
    "spect_simulation": { // Spect simulation parameters
        "name" : "spect_simulation", // File name prefix
        "SIMINDDirectory": "/home/jhubadmin/simind/simind",    // SIMIND: Path to SIMIND executable
        "ReconstructionAlgorithm": "OSEM",   // PyTomography: Reconstruction algorithm 
        "Collimator": "si-me",  // SIMIND: Collimator type - refer to SIMIND documentation
        "Isotope": "lu177",    // SIMIND: Isotope type - refer to SIMIND documentation
        "NumProjections": 64,   // SIMIND: Number of projections (96 is standard)
        "NumPhotons": 5e8,    // SIMIND: Number of photons
        "EnergyWindowWidth": 20, // SIMIND: Energy window width [%] around photopeak, e.g., 20 for Â±10%
        "DetectorDistance": -10, // SIMIND: Detector distance [cm]. If this number is negative, patient contouring is enabled.
        "DetectorWidth": 53.3,   // SIMIND: Detector width [cm] -> 53.3 is one found online
        "DetectorLength": 0,  // SIMIND: Detector length [cm] NOTE: if value is 0 will use length of CT
        "OutputImgSize": 256,   // SIMIND: Output image dimensions
        "OutputPixelWidth": 0.25, // SIMIND: Output pixel size [cm]
        "OutputSliceWidth": 0.25, // SIMIND: Output slice width [cm]
        "Iterations": 4,    // PyTomography: Number of iterations used in reconstruction
        "Subsets": 8,   // PyTomography: Number of subsets used in reconstruction
        "NumCores": 0 // Number of CPU cores to use for parallel SIMIND simulations
    }
        
}
